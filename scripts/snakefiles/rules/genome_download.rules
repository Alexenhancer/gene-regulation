if not "url" in config["genome"].keys():
    sys.exit("The parameter genome url must be defined in the config file")

"""Download genome sequence to location specified in the config file.
"""
rule genome_download:
	input: "."
	output: "{genome}.fa"
	log: "{genome}_download.log"
	benchmark: "{genome}_download_benchmark.json"
	params: url = config["genome"]["url"], dir = config["genome"]["dir"], version = config["genome"]["version"]
	shell:"""
(cd {params.dir}
wget {params.url}
filename=$(basename {params.url})
echo $filename
gunzip $filename
fastaname=$(basename $filename .${{filename##*.}})
mv $fastaname {params.version}.fa) &> {log}
"""

